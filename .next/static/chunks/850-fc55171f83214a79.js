"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[850],{5951:function(e,t,s){s.d(t,{Z:function(){return N}});var a=s(57437),r=s(2265),l=s(87138),i=s(34446),n=s(13763),c=s(85302),o=s(87140),d=s(79488),x=s(48281),m=s(11240),h=s(35931),g=s(4436),u=s(85016),p=s(10883),b=s(74697),j=s(42873),f=s(27841),y=s(97545),v=s(15361);function N(e){let{activeSection:t="overview",onSectionChange:s}=e,[N,w]=(0,r.useState)(!1),{favorites:D,removeFavorite:C}=(0,f.p)(),{isEnabled:k,toggle:Z}=(0,y.W)();if(k)return(0,a.jsx)("button",{onClick:Z,className:"fixed bottom-4 left-4 z-50 bg-gray-900/80 p-2 rounded-full text-gray-400 hover:text-white transition-colors",title:"Sair do Modo Streamer",children:(0,a.jsx)(c.Z,{className:"w-5 h-5"})});let T=[{id:"overview",label:"Vis\xe3o Geral",icon:o.Z,active:!0,comingSoon:!1},{id:"battles",label:"Batalhas",icon:d.Z,active:!0,comingSoon:!1},{id:"badges",label:"Badges",icon:x.Z,active:!0,comingSoon:!1},{id:"clan",label:"Cl\xe3",icon:m.Z,active:!0,comingSoon:!1},{id:"decks",label:"Decks",icon:h.Z,active:!0,comingSoon:!1}],E=[{id:"community",label:"Comunidade",icon:g.Z,href:"/community"},{id:"compare",label:"Comparar Jogadores",icon:d.Z,href:"/compare"}],S=(e,t)=>{t&&((0,v.L9)("tab_change",{section:e}),null==s||s(e),w(!1))},M=(0,a.jsxs)("div",{className:"flex flex-col h-full p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-10 px-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-blue-700 flex items-center justify-center shadow-lg shadow-blue-900/20",children:(0,a.jsx)(u.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("span",{className:"font-bold text-2xl tracking-tight text-white",children:["CR",(0,a.jsx)("span",{className:"text-blue-500",children:"Stats"})]})]}),(0,a.jsxs)("nav",{className:"space-y-1 flex-1",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4 px-2",children:"Menu Principal"}),T.map(e=>(0,a.jsxs)("button",{onClick:()=>S(e.id,e.active),disabled:!e.active,className:"\n                            w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 group\n                            ".concat(t===e.id?"bg-blue-600/10 text-blue-500":"text-gray-400 hover:bg-gray-900 hover:text-white","\n                            ").concat(!e.active&&"opacity-50 cursor-not-allowed","\n                        "),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(e.icon,{className:"w-5 h-5 transition-colors ".concat(t===e.id?"text-blue-500":"text-gray-500 group-hover:text-white")}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]}),e.comingSoon&&(0,a.jsx)("span",{className:"text-[10px] font-bold bg-gray-800 text-gray-400 px-2 py-0.5 rounded-full border border-gray-700",children:"EM BREVE"})]},e.id)),(0,a.jsx)("div",{className:"mt-8 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4 px-2",children:"Comunidade"}),E.map(e=>(0,a.jsxs)(l.default,{href:e.href,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-400 hover:bg-gray-900 hover:text-white transition-all duration-200 group",children:[(0,a.jsx)(e.icon,{className:"w-5 h-5 text-gray-500 group-hover:text-white transition-colors"}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.id))]}),(0,a.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-2 mb-4",children:[(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Favoritos"}),(0,a.jsx)("span",{className:"text-xs text-gray-600 bg-gray-900 px-2 py-0.5 rounded-full",children:D.length})]}),(0,a.jsx)("div",{className:"space-y-1 max-h-48 overflow-y-auto custom-scrollbar",children:0===D.length?(0,a.jsx)("div",{className:"px-2 py-4 text-sm text-gray-600 text-center bg-gray-900/30 rounded-xl border border-gray-800/50 border-dashed",children:"Nenhum favorito"}):D.map(e=>(0,a.jsxs)(l.default,{href:"/".concat(e.tag),className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-400 hover:bg-gray-900 hover:text-white transition-all group",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gray-800 flex items-center justify-center text-xs font-bold text-gray-500 group-hover:text-white group-hover:bg-gray-700 transition-colors",children:e.expLevel||"?"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium truncate",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-600 truncate",children:["#",e.tag]})]}),(0,a.jsx)("button",{onClick:t=>{t.preventDefault(),C(e.tag)},className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-red-500/10 hover:text-red-400 rounded-md transition-all",children:(0,a.jsx)(p.Z,{className:"w-3.5 h-3.5"})})]},e.tag))})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-800",children:(0,a.jsxs)("button",{onClick:Z,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-400 hover:bg-gray-900 hover:text-white transition-all duration-200 group",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 text-gray-500 group-hover:text-purple-400 transition-colors"}),(0,a.jsx)("span",{className:"font-medium",children:"Modo Streamer"})]})})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>w(!N),className:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-xl bg-gray-900 border border-gray-800 text-white",children:N?(0,a.jsx)(b.Z,{className:"w-6 h-6"}):(0,a.jsx)(j.Z,{className:"w-6 h-6"})}),(0,a.jsx)("aside",{className:"hidden lg:block w-72 h-screen sticky top-0 bg-black border-r border-gray-800",children:M}),(0,a.jsx)(i.M,{children:N&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>w(!1),className:"lg:hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-40"}),(0,a.jsx)(n.E.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25,stiffness:200},className:"lg:hidden fixed top-0 left-0 w-72 h-screen bg-black border-r border-gray-800 z-50",children:M})]})})]})}},25033:function(e,t,s){s.d(t,{Z:function(){return ex}});var a=s(57437),r=s(13763),l=s(85016),i=s(957),n=s(79488),c=s(2265),o=s(55430);function d(e){let{summary:t}=e,s=t.winrate>=60?"text-green-400":t.winrate>=45?"text-yellow-400":"text-red-400",i=t.trophyDeltaTotal>0?"text-green-400":t.trophyDeltaTotal<0?"text-red-400":"text-gray-400";return(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 p-4 rounded-2xl flex flex-col items-center justify-center text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wider font-medium",children:"Winrate"}),(0,a.jsxs)("div",{className:"text-2xl font-bold ".concat(s),children:[t.winrate.toFixed(1),"%"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:[t.wins,"V - ",t.losses,"D - ",t.draws,"E"]})]}),(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 p-4 rounded-2xl flex flex-col items-center justify-center text-center",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wider font-medium flex items-center gap-1",children:[(0,a.jsx)(l.Z,{className:"w-3 h-3"})," Saldo"]}),(0,a.jsxs)("div",{className:"text-2xl font-bold ".concat(i),children:[t.trophyDeltaTotal>0?"+":"",t.trophyDeltaTotal]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Trof\xe9us"})]}),(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 p-4 rounded-2xl flex flex-col items-center justify-center text-center",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wider font-medium flex items-center gap-1",children:[(0,a.jsx)(o.Z,{className:"w-3 h-3"})," Streak"]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:t.maxWinStreak}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Vit\xf3rias seguidas"})]}),(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 p-4 rounded-2xl flex flex-col items-center justify-center text-center",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wider font-medium flex items-center gap-1",children:[(0,a.jsx)(n.Z,{className:"w-3 h-3"})," Total"]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:t.wins+t.losses+t.draws}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Partidas filtradas"})]})]})}var x=s(34446),m=s(21902),h=s(29162),g=s(40933),u=s(14392),p=s(42421),b=s(53225),j=s(15361),f=s(33142),y=s(47201),v=s(66648),N=s(6884),w=s(17973);function D(e){let{battle:t,isExpanded:n}=e,{showToast:c}=(0,w.p)();if(!t.team||!t.team[0]||!t.opponent||!t.opponent[0])return null;let o=t.team[0],d=t.opponent[0],m=e=>(e.reduce((e,t)=>e+(t.elixirCost||3.5),0)/e.length).toFixed(1),h=m(o.cards),u=m(d.cards),p=async()=>{let{copyDeckLink:e}=await s.e(975).then(s.bind(s,35975));(await e(o.cards,"battle_history")).success?c("Link do deck copiado!"):c("Erro ao copiar link do deck.","error")};return(0,a.jsx)(x.M,{children:n&&(0,a.jsxs)(r.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeOut"},className:"overflow-hidden bg-black/40 border-t border-gray-800/50",children:[(0,a.jsxs)("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-white",children:"Seu Deck"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-800 px-2 py-0.5 rounded-full",children:[h," Elixir"]})]}),(0,a.jsxs)("button",{onClick:p,className:"text-xs flex items-center gap-1 text-blue-400 hover:text-blue-300 transition-colors",children:[(0,a.jsx)(N.Z,{className:"w-3 h-3"})," Copiar"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:o.cards.map(e=>{var t;return(0,a.jsxs)("div",{className:"relative aspect-[3/4] bg-gray-800/50 rounded-lg overflow-hidden border border-gray-700/50 group",children:[(0,a.jsx)(v.default,{src:(null===(t=e.iconUrls)||void 0===t?void 0:t.medium)||"",alt:e.name,fill:!0,className:"object-contain p-1"}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-[10px] text-center text-white py-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:["Lvl ",14-(e.maxLevel-e.level)]})]},e.id)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-white",children:"Oponente"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-800 px-2 py-0.5 rounded-full",children:[u," Elixir"]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:d.name})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:d.cards.map(e=>{var t;return(0,a.jsxs)("div",{className:"relative aspect-[3/4] bg-gray-800/50 rounded-lg overflow-hidden border border-gray-700/50 group",children:[(0,a.jsx)(v.default,{src:(null===(t=e.iconUrls)||void 0===t?void 0:t.medium)||"",alt:e.name,fill:!0,className:"object-contain p-1"}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-[10px] text-center text-white py-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:["Lvl ",14-(e.maxLevel-e.level)]})]},e.id)})})]})]}),(0,a.jsxs)("div",{className:"bg-gray-900/30 px-6 py-3 border-t border-gray-800/50 flex items-center justify-between text-xs text-gray-400",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(i.Z,{className:"w-3 h-3 text-yellow-500"}),o.crowns," - ",d.crowns]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(l.Z,{className:"w-3 h-3 text-blue-400"}),o.trophyChange>0?"+":"",o.trophyChange]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(g.Z,{className:"w-3 h-3"}),new Date(t.battleTime).toLocaleString()]})]})]})})}function C(e){let{battle:t,isExpanded:s,onToggle:c}=e;if(!t.team||!t.team[0]||!t.opponent||!t.opponent[0])return null;let o=t.team[0],d=o.crowns>t.opponent[0].crowns?"win":o.crowns<t.opponent[0].crowns?"loss":"draw";return(0,a.jsxs)(r.E.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:"mb-2 rounded-xl overflow-hidden border border-gray-800/50 transition-colors ".concat({win:"border-l-4 border-l-green-500 bg-green-500/5 hover:bg-green-500/10",loss:"border-l-4 border-l-red-500 bg-red-500/5 hover:bg-red-500/10",draw:"border-l-4 border-l-gray-500 bg-gray-500/5 hover:bg-gray-500/10"}[d]),children:[(0,a.jsxs)("div",{onClick:c,className:"p-4 cursor-pointer flex items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 min-w-[140px]",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold ".concat({win:"text-green-400",loss:"text-red-400",draw:"text-gray-400"}[d]),children:{win:"Vit\xf3ria",loss:"Derrota",draw:"Empate"}[d]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,a.jsx)(n.Z,{className:"w-3 h-3"}),t.gameMode.name]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-6 flex-1 justify-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 text-yellow-500"}),o.crowns]}),(0,a.jsx)("span",{className:"text-gray-600",children:"-"}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[t.opponent[0].crowns,(0,a.jsx)(i.Z,{className:"w-4 h-4 text-gray-600"})]})]}),void 0!==o.trophyChange&&(0,a.jsxs)("div",{className:"text-sm font-medium flex items-center gap-1 ".concat(o.trophyChange>0?"text-green-400":"text-red-400"),children:[(0,a.jsx)(l.Z,{className:"w-3 h-3"}),o.trophyChange>0?"+":"",o.trophyChange]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 min-w-[100px] justify-end",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 text-right",children:function(e){if(!e)return"";try{let t=new Date(e);if(isNaN(t.getTime()))return"";return(0,f.Q)(t,{addSuffix:!0,locale:y.F})}catch(e){return""}}(t.battleTime)}),(0,a.jsx)("div",{className:"text-gray-500",children:s?(0,a.jsx)(u.Z,{className:"w-5 h-5"}):(0,a.jsx)(p.Z,{className:"w-5 h-5"})})]})]}),(0,a.jsx)(D,{battle:t,isExpanded:s})]})}function k(e){let{battles:t}=e,[s,r]=(0,c.useState)(null),l=e=>e.battleTime,i=e=>{r(t=>t===e?null:e)};return 0===t.length?(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Nenhuma batalha encontrada com os filtros atuais."}):(0,a.jsx)("div",{className:"space-y-2",children:t.map(e=>{let t=l(e);return(0,a.jsx)(C,{battle:e,isExpanded:s===t,onToggle:()=>i(t)},t)})})}function Z(e){let{session:t}=e,[s,i]=(0,c.useState)(t.isActive),n=t.winrate>=60&&t.trophyDeltaTotal>0?{icon:m.Z,text:"\uD83D\uDD25 Excelente push! Continue assim!",color:"text-green-400"}:t.trophyDeltaTotal>0?{icon:l.Z,text:"\uD83D\uDCC8 Push positivo! Voc\xea est\xe1 subindo!",color:"text-blue-400"}:t.trophyDeltaTotal<=-50?{icon:h.Z,text:"⚠️ Considere fazer uma pausa. Voc\xea perdeu ".concat(Math.abs(t.trophyDeltaTotal)," trof\xe9us."),color:"text-red-400"}:t.trophyDeltaTotal<0?{icon:h.Z,text:"⚠️ Sess\xe3o negativa",color:"text-yellow-400"}:{icon:o.Z,text:"⏱️ Sess\xe3o neutra",color:"text-gray-400"},d=n.icon;return(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl border overflow-hidden ".concat(t.isActive?"border-purple-700/50 bg-gradient-to-br from-purple-900/30 to-blue-900/30":"border-gray-800 bg-gray-900/30"),children:[(0,a.jsxs)("button",{onClick:()=>{let e=!s;i(e),(0,j.L9)(e?"session_expand":"session_collapse",{sessionId:t.id,battles:t.battles.length,trophyDelta:t.trophyDeltaTotal})},className:"w-full p-6 text-left hover:bg-white/5 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[t.isActive?(0,a.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full animate-pulse"}):(0,a.jsx)("div",{className:"w-3 h-3 bg-gray-600 rounded-full"}),(0,a.jsx)("span",{className:"font-bold ".concat(t.isActive?"text-purple-400":"text-gray-400"),children:(()=>{let e=new Date().getTime()-t.endTime.getTime(),s=Math.floor(e/36e5);return t.isActive?"SESS\xc3O ATIVA":s<1?"H\xe1 ".concat(Math.floor(e%36e5/6e4)," min"):s<24?"H\xe1 ".concat(s,"h"):"H\xe1 ".concat(Math.floor(s/24),"d")})()}),(0,a.jsx)("span",{className:"text-gray-500",children:"•"}),(0,a.jsxs)("span",{className:"text-gray-400 text-sm flex items-center gap-1",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4"}),t.durationMinutes," min"]})]}),s?(0,a.jsx)(u.Z,{className:"w-5 h-5 text-gray-400"}):(0,a.jsx)(p.Z,{className:"w-5 h-5 text-gray-400"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"bg-black/30 rounded-lg p-3 text-center",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:t.battles.length}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Partidas"})]}),(0,a.jsxs)("div",{className:"bg-black/30 rounded-lg p-3 text-center",children:[(0,a.jsxs)("div",{className:"text-xl font-bold ".concat(t.winrate>=50?"text-green-400":"text-red-400"),children:[t.winrate.toFixed(0),"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"WR"})]}),(0,a.jsxs)("div",{className:"bg-black/30 rounded-lg p-3 text-center",children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-white",children:[(0,a.jsx)("span",{className:"text-green-400",children:t.wins}),(0,a.jsx)("span",{className:"text-gray-600",children:"/"}),(0,a.jsx)("span",{className:"text-red-400",children:t.losses})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"V/D"})]}),(0,a.jsxs)("div",{className:"bg-black/30 rounded-lg p-3 text-center",children:[(0,a.jsxs)("div",{className:"text-xl font-bold flex items-center justify-center gap-1 ".concat(t.trophyDeltaTotal>0?"text-green-400":t.trophyDeltaTotal<0?"text-red-400":"text-gray-400"),children:[t.trophyDeltaTotal>0?(0,a.jsx)(b.Z,{className:"w-4 h-4"}):t.trophyDeltaTotal<0?(0,a.jsx)(h.Z,{className:"w-4 h-4"}):null,t.trophyDeltaTotal>0?"+":"",t.trophyDeltaTotal]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Trof\xe9us"})]})]}),(0,a.jsx)("div",{className:"bg-black/30 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm flex items-center gap-2 ".concat(n.color),children:[(0,a.jsx)(d,{className:"w-4 h-4"}),n.text]})})]}),(0,a.jsx)(x.M,{children:s&&(0,a.jsx)(r.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t border-gray-800",children:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(k,{battles:t.battles})})})})]})}var T=s(35931),E=s(24241),S=s(65607);function M(e){let{battles:t}=e,[s,r]=(0,c.useState)(!0),[l,i]=(0,c.useState)("7d"),n=(0,c.useMemo)(()=>{let e=new Date;return t.filter(t=>{let s=new Date(t.battleTime),a=Math.ceil(Math.abs(e.getTime()-s.getTime())/864e5);switch(l){case"today":return s.toDateString()===e.toDateString();case"3d":return a<=3;case"7d":return a<=7;case"season":return a<=30;default:return!0}})},[t,l]),{sessions:o,singles:x}=(0,c.useMemo)(()=>(function(e){if(!e||0===e.length)return{sessions:[],singles:[]};let t=e.filter(e=>e.team&&e.team[0]&&e.opponent&&e.opponent[0]&&e.battleTime);if(0===t.length)return{sessions:[],singles:[]};let s=[...t].sort((e,t)=>new Date(t.battleTime).getTime()-new Date(e.battleTime).getTime()),a=[],r=[];for(let e=0;e<s.length;e++){let t=s[e];if(0===r.length){r.push(t);continue}new Date(r[r.length-1].battleTime).getTime()-new Date(t.battleTime).getTime()>18e5?(a.push([...r]),r=[t]):r.push(t)}r.length>0&&a.push(r);let l=[],i=[];for(let e of a)e.length>=3?l.push(function(e,t){let s=[...e].sort((e,t)=>new Date(e.battleTime).getTime()-new Date(t.battleTime).getTime()),a=new Date(s[0].battleTime),r=new Date(s[s.length-1].battleTime),l=r.getTime()-a.getTime(),i=e.filter(e=>e.team&&e.team[0]&&e.opponent&&e.opponent[0]&&e.team[0].crowns>e.opponent[0].crowns).length,n=e.filter(e=>e.team&&e.team[0]&&e.opponent&&e.opponent[0]&&e.team[0].crowns<e.opponent[0].crowns).length,c=e.filter(e=>e.team&&e.team[0]&&e.opponent&&e.opponent[0]&&e.team[0].crowns===e.opponent[0].crowns).length,o=e.reduce((e,t)=>t.team&&t.team[0]?e+(t.team[0].trophyChange||0):e,0),d=new Date().getTime()-r.getTime()<72e5;return{id:"session-".concat(a.getTime()),battles:s,startTime:a,endTime:r,durationMinutes:Math.floor(l/6e4),wins:i,losses:n,draws:c,winrate:e.length>0?i/e.length*100:0,trophyDeltaTotal:o,isActive:d}}(e,0)):i.push(...e);return{sessions:l,singles:i}})(n),[n]),m=(0,c.useMemo)(()=>(function(e){let t=0,s=0,a=0,r=0,l=0,i=0;e.forEach(e=>{if(!e.team||!e.team[0]||!e.opponent||!e.opponent[0])return;let n=e.team[0],c=e.opponent[0],o=n.crowns>c.crowns,d=n.crowns<c.crowns,x=n.crowns===c.crowns;o?(t++,l++,i=Math.max(i,l)):(l=0,d&&s++,x&&a++),n.trophyChange&&(r+=n.trophyChange)});let n=t+s+a,c=n>0?t/n*100:0;return{wins:t,losses:s,draws:a,winrate:c,trophyDeltaTotal:r,maxWinStreak:i}})(n),[n]),h=e=>{r("session"===e),(0,j.L9)("history_view_mode_change",{mode:e})},g=e=>{i(e),(0,j.L9)("history_period_change",{period:e})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-4",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:["Hist\xf3rico de Batalhas",(0,a.jsx)("span",{className:"text-sm font-normal text-gray-500 bg-gray-900 px-2 py-0.5 rounded-full",children:n.length})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-1 bg-gray-900/50 p-1 rounded-xl border border-gray-800",children:["today","3d","7d","season"].map(e=>(0,a.jsx)("button",{onClick:()=>g(e),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all ".concat(l===e?"bg-gray-700 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"),children:"today"===e?"Hoje":"3d"===e?"3 Dias":"7d"===e?"7 Dias":"Temporada"},e))}),(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-gray-900/50 p-1 rounded-xl border border-gray-800",children:[(0,a.jsxs)("button",{onClick:()=>h("session"),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all flex items-center gap-1 ".concat(s?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-gray-400 hover:text-white hover:bg-gray-800"),children:[(0,a.jsx)(T.Z,{className:"w-3 h-3"}),"Por Sess\xe3o"]}),(0,a.jsxs)("button",{onClick:()=>h("chronological"),className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all flex items-center gap-1 ".concat(s?"text-gray-400 hover:text-white hover:bg-gray-800":"bg-blue-600 text-white shadow-lg shadow-blue-900/20"),children:[(0,a.jsx)(E.Z,{className:"w-3 h-3"}),"Cronol\xf3gico"]})]})]})]})}),(0,a.jsx)(d,{summary:m}),s?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,a.jsx)(T.Z,{className:"w-5 h-5 text-purple-500"}),"Pushes Ativos"]}),o.filter(e=>e.isActive).length>0?(0,a.jsx)("div",{className:"space-y-4",children:o.filter(e=>e.isActive).map(e=>(0,a.jsx)(Z,{session:e},e.id))}):(0,a.jsxs)("div",{className:"bg-gray-900/30 border border-gray-800 rounded-2xl p-6 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-500/10 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(T.Z,{className:"w-6 h-6 text-purple-500"})}),(0,a.jsx)("p",{className:"text-gray-400 mb-1",children:"Nenhum push ativo no momento"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Jogue 3+ partidas em menos de 30 minutos para iniciar um push"})]})]}),o.filter(e=>!e.isActive).length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,a.jsx)(E.Z,{className:"w-5 h-5 text-blue-500"}),"Hist\xf3rico de Pushes"]}),(0,a.jsx)("div",{className:"space-y-4",children:o.filter(e=>!e.isActive).map(e=>(0,a.jsx)(Z,{session:e},e.id))})]}),0===o.length&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gray-900/30 border border-gray-800 rounded-2xl p-8 text-center",children:[(0,a.jsx)(T.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h4",{className:"text-xl font-semibold text-white mb-2",children:"Nenhuma sess\xe3o de push detectada"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:"Jogue pelo menos 3 partidas em menos de 30 minutos para criar uma sess\xe3o"}),(0,a.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4 max-w-md mx-auto",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCA1 Dica: Pushes s\xe3o detectados quando voc\xea joga:"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-400 text-left list-disc list-inside space-y-1",children:[(0,a.jsx)("li",{children:"3 ou mais partidas seguidas"}),(0,a.jsx)("li",{children:"Com menos de 30 minutos entre cada uma"}),(0,a.jsx)("li",{children:"Pushes ativos = \xfaltimas 2 horas"})]})]})]}),n.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,a.jsx)(E.Z,{className:"w-5 h-5 text-gray-500"}),"Hist\xf3rico Cronol\xf3gico"]}),(0,a.jsx)(k,{battles:n})]})]}),x.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,a.jsx)(S.Z,{className:"w-5 h-5 text-gray-500"}),"Batalhas Avulsas"]}),(0,a.jsxs)("div",{className:"border border-gray-800 rounded-2xl p-4 bg-gray-900/30",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Batalhas que n\xe3o formaram push (menos de 3 partidas ou gaps maiores que 30min)"}),(0,a.jsx)(k,{battles:x})]})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,a.jsx)(E.Z,{className:"w-5 h-5 text-blue-500"}),"Visualiza\xe7\xe3o Cronol\xf3gica"]}),(0,a.jsx)(k,{battles:n})]})]})}var _=s(11240),F=s(64042),A=s(29338);function R(e){var t;let{player:s}=e;return s.clan?(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"premium-gradient border border-gray-800 p-8 rounded-3xl card-glow relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:(0,a.jsx)(_.Z,{className:"w-64 h-64 text-white"})}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center gap-6 mb-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gray-900 rounded-2xl flex items-center justify-center border border-gray-700",children:(0,a.jsx)(_.Z,{className:"w-10 h-10 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-4xl font-light text-white text-glow mb-2",children:s.clan}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-gray-400 font-mono text-sm",children:["#",s.clanTag]}),(0,a.jsx)("span",{className:"px-3 py-1 bg-white/10 rounded-full text-xs font-medium text-white",children:"Membro"})]})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(r.E.div,{whileHover:{scale:1.02},className:"premium-gradient border border-gray-800 p-6 rounded-3xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2 text-green-400",children:[(0,a.jsx)(F.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Doa\xe7\xf5es"})]}),(0,a.jsx)("div",{className:"text-3xl font-light text-white mb-1",children:s.donations}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Esta semana"})]}),(0,a.jsxs)(r.E.div,{whileHover:{scale:1.02},className:"premium-gradient border border-gray-800 p-6 rounded-3xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2 text-blue-400",children:[(0,a.jsx)(F.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Recebidas"})]}),(0,a.jsx)("div",{className:"text-3xl font-light text-white mb-1",children:s.donationsReceived}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Esta semana"})]}),(0,a.jsxs)(r.E.div,{whileHover:{scale:1.02},className:"premium-gradient border border-gray-800 p-6 rounded-3xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2 text-red-400",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Guerra"})]}),(0,a.jsx)("div",{className:"text-3xl font-light text-white mb-1",children:s.warDayWins}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Vit\xf3rias dia de guerra"})]}),(0,a.jsxs)(r.E.div,{whileHover:{scale:1.02},className:"premium-gradient border border-gray-800 p-6 rounded-3xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2 text-yellow-400",children:[(0,a.jsx)(A.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Coletas"})]}),(0,a.jsx)("div",{className:"text-3xl font-light text-white mb-1",children:s.clanCardsCollected}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Cartas coletadas"})]})]}),(0,a.jsxs)("div",{className:"premium-gradient border border-gray-800 p-8 rounded-3xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-light text-white",children:"Contribui\xe7\xe3o Total"}),(0,a.jsx)(l.Z,{className:"w-6 h-6 text-yellow-500"})]}),(0,a.jsxs)("div",{className:"flex items-end gap-2",children:[(0,a.jsx)("span",{className:"text-5xl font-light text-white text-glow",children:null===(t=s.totalDonations)||void 0===t?void 0:t.toLocaleString()}),(0,a.jsx)("span",{className:"text-gray-400 mb-2",children:"cartas doadas em toda a carreira"})]})]})]}):(0,a.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"premium-gradient border border-gray-800 p-12 rounded-3xl text-center card-glow",children:[(0,a.jsx)(_.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-6"}),(0,a.jsx)("h2",{className:"text-2xl font-light text-white mb-2",children:"Sem Cl\xe3"}),(0,a.jsx)("p",{className:"text-gray-400 font-light",children:"Este jogador n\xe3o pertence a nenhum cl\xe3 no momento."})]})}var L=s(61631),P=s(20500),V=s(60090);function O(e){let{player:t}=e,s=t.currentDeck;if(!s||0===s.length)return(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Nenhum deck encontrado para este jogador."});let l=s.reduce((e,t)=>e+(t.elixirCost||0),0)/s.length;return(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"premium-gradient border border-gray-800 p-8 rounded-3xl card-glow",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-light text-white text-glow",children:"Deck Atual"}),(0,a.jsx)("p",{className:"text-gray-400 font-light",children:"Deck utilizado na \xfaltima batalha"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-purple-500/10 border border-purple-500/20 rounded-xl",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 text-purple-400"}),(0,a.jsxs)("span",{className:"text-purple-400 font-medium",children:[l>0?l.toFixed(1):"?"," Elixir"]})]}),(0,a.jsxs)("button",{onClick:()=>{let e=s.map(e=>e.id).join(";");(0,j.L9)("deck_copy_link",{location:"decks_view"}),window.open("https://link.clashroyale.com/deck/en?deck=".concat(e),"_blank")},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-xl transition-colors font-medium shadow-lg shadow-blue-900/20",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4"}),"Copiar Deck"]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-4 md:gap-6",children:s.map((e,t)=>{var s;return(0,a.jsxs)(r.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*t},whileHover:{scale:1.05,y:-5},className:"relative aspect-[3/4] group",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/60 rounded-xl z-10"}),(0,a.jsx)(v.default,{src:(null===(s=e.iconUrls)||void 0===s?void 0:s.medium)||"",alt:e.name,fill:!0,className:"object-contain drop-shadow-2xl"}),(0,a.jsx)("div",{className:"absolute bottom-2 left-2 right-2 z-20",children:(0,a.jsxs)("div",{className:"text-xs text-white font-medium text-center bg-black/50 backdrop-blur-sm rounded-lg py-1 border border-white/10",children:["Lvl ",14-(e.maxLevel-e.level)]})})]},e.id)})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"premium-gradient border border-gray-800 p-6 rounded-3xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(L.Z,{className:"w-5 h-5 text-red-400"}),(0,a.jsx)("h3",{className:"text-lg font-light text-white",children:"Ofensiva"})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,a.jsx)(r.E.div,{initial:{width:0},animate:{width:"75%"},transition:{duration:1,delay:.5},className:"h-full bg-red-500 shadow-[0_0_10px_rgba(239,68,68,0.5)]"})})]}),(0,a.jsxs)("div",{className:"premium-gradient border border-gray-800 p-6 rounded-3xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(P.Z,{className:"w-5 h-5 text-blue-400"}),(0,a.jsx)("h3",{className:"text-lg font-light text-white",children:"Defensiva"})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,a.jsx)(r.E.div,{initial:{width:0},animate:{width:"60%"},transition:{duration:1,delay:.7},className:"h-full bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]"})})]}),(0,a.jsxs)("div",{className:"premium-gradient border border-gray-800 p-6 rounded-3xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(V.Z,{className:"w-5 h-5 text-green-400"}),(0,a.jsx)("h3",{className:"text-lg font-light text-white",children:"Versatilidade"})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,a.jsx)(r.E.div,{initial:{width:0},animate:{width:"85%"},transition:{duration:1,delay:.9},className:"h-full bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)]"})})]})]})]})}var z=s(35231),W=s(28148),H=s(54142),I=s(2842),B=s(9542),q=s(85475),U=s(16638);function J(e){let{battles:t}=e,s=(0,c.useMemo)(()=>{var e;let s=[...t].reverse().filter(e=>e.team&&e.team[0]);return 0===s.length?[]:(null===(e=s[0])||void 0===e||e.team[0].startingTrophies,s.map((e,t)=>{let s=e.team[0].trophyChange||0;return{index:t+1,trophies:e.team[0].startingTrophies+s,result:s>0?"win":s<0?"loss":"draw",change:s}}))},[t]),r=(0,c.useMemo)(()=>{let e={};return t.forEach(t=>{if(!t.team||!t.team[0]||!t.opponent||!t.opponent[0])return;let s=t.gameMode.name;e[s]||(e[s]={wins:0,losses:0,draws:0,total:0});let a=t.team[0].crowns,r=t.opponent[0].crowns;e[s].total++,a>r?e[s].wins++:a<r?e[s].losses++:e[s].draws++}),Object.entries(e).map(e=>{let[t,s]=e;return{name:t,...s,winrate:s.wins/s.total*100}}).sort((e,t)=>t.total-e.total)},[t]);return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-2xl p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-white mb-6 flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-5 h-5 text-emerald-400"}),"Progress\xe3o de Trof\xe9us"]}),(0,a.jsx)("div",{className:"h-[300px] w-full",children:(0,a.jsx)(z.h,{width:"100%",height:"100%",children:(0,a.jsxs)(W.w,{data:s,children:[(0,a.jsx)(H.q,{strokeDasharray:"3 3",stroke:"#374151",vertical:!1}),(0,a.jsx)(I.K,{dataKey:"index",hide:!0}),(0,a.jsx)(B.B,{domain:["auto","auto"],stroke:"#9CA3AF",tick:{fill:"#9CA3AF",fontSize:12},tickLine:!1,axisLine:!1}),(0,a.jsx)(q.u,{contentStyle:{backgroundColor:"#111827",borderColor:"#374151",borderRadius:"8px",color:"#fff"},itemStyle:{color:"#fff"},formatter:e=>["".concat(e," Trof\xe9us"),""],labelFormatter:()=>""}),(0,a.jsx)(U.x,{type:"monotone",dataKey:"trophies",stroke:"#10B981",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#10B981"}})]})})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(e=>(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white mb-1",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.total," partidas"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-bold ".concat(e.winrate>=50?"text-green-400":"text-red-400"),children:[e.winrate.toFixed(0),"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Winrate"})]})]},e.name))})]})}function Q(e){let{decks:t}=e,{topDeck:r,topDecksByWinrate:i}=t,{showToast:n}=(0,w.p)();return r?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[(0,a.jsx)(T.Z,{className:"w-5 h-5 text-blue-400"}),"Deck Mais Utilizado"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-400 bg-gray-800 px-3 py-1 rounded-full",children:[r.matches," partidas"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:r.cards.map(e=>{var t;return(0,a.jsx)("div",{className:"relative aspect-[3/4] bg-gray-800/50 rounded-lg overflow-hidden",children:(0,a.jsx)(v.default,{src:(null===(t=e.iconUrls)||void 0===t?void 0:t.medium)||"",alt:e.name,fill:!0,className:"object-contain p-1"})},e.id)})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-800/50",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center flex-1",children:[(0,a.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-2",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Winrate"}),(0,a.jsxs)("div",{className:"font-bold ".concat(r.winrate>=50?"text-green-400":"text-red-400"),children:[r.winrate.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-2",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Elixir M\xe9dio"}),(0,a.jsx)("div",{className:"text-white font-medium",children:r.avgElixir})]}),(0,a.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-2",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Resultado"}),(0,a.jsxs)("div",{className:"text-white font-medium text-xs",children:[r.wins,"V - ",r.losses,"D"]})]})]}),(0,a.jsx)("button",{onClick:async()=>{let{copyDeckLink:e}=await s.e(975).then(s.bind(s,35975));(await e(r.cards,"deck_analytics_top")).success&&n("Link do deck copiado!")},className:"ml-4 p-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl transition-colors flex flex-col items-center justify-center gap-1 min-w-[80px]",children:(0,a.jsx)("div",{className:"text-xs font-medium",children:"Copiar"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 text-yellow-500"}),"Melhores Decks (Winrate)"]}),(0,a.jsx)("div",{className:"space-y-4",children:i.slice(0,3).map((e,t)=>(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-4 flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex -space-x-2 overflow-hidden",children:[e.cards.slice(0,4).map(e=>{var t;return(0,a.jsx)("div",{className:"relative w-8 h-10 rounded bg-gray-800 border border-gray-700",children:(0,a.jsx)(v.default,{src:(null===(t=e.iconUrls)||void 0===t?void 0:t.medium)||"",alt:e.name,fill:!0,className:"object-contain"})},e.id)}),e.cards.length>4&&(0,a.jsx)("div",{className:"relative w-8 h-10 rounded bg-gray-800 border border-gray-700 flex items-center justify-center text-[10px] text-gray-400",children:"+4"})]}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-1",children:[(0,a.jsxs)("span",{children:[e.matches," jogos"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[e.avgElixir," elixir"]})]})}),(0,a.jsxs)("div",{className:"text-right flex flex-col items-end gap-2",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-green-400",children:[e.winrate.toFixed(0),"%"]}),(0,a.jsx)("button",{onClick:async t=>{t.stopPropagation();let{copyDeckLink:a}=await s.e(975).then(s.bind(s,35975));(await a(e.cards,"deck_analytics_list")).success&&n("Link do deck copiado!")},className:"text-xs text-blue-400 hover:text-blue-300 underline",children:"Copiar"})]})]},t))})]})]}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Dados insuficientes para an\xe1lise de decks."})}var G=s(36127),K=s(37151);function X(e){let{insights:t,battles:s}=e,n=s?function(e){if(e.length<5)return null;let t=e.slice(0,5).filter(e=>e.team&&e.team[0]&&e.opponent&&e.opponent[0]);return t.length<3?null:t.filter(e=>e.team[0].crowns<e.opponent[0].crowns).length>=4?{severity:"high",message:"Alerta de Tilt: Voc\xea perdeu 4 das \xfaltimas 5 partidas. Recomendamos uma pausa de 15 minutos.",type:"losing_streak"}:t.findIndex(e=>e.team[0].crowns>e.opponent[0].crowns)>=3?{severity:"medium",message:"Cuidado: Sequ\xeancia de 3 derrotas detectada. Respire fundo antes da pr\xf3xima partida.",type:"losing_streak"}:null}(s):null,c=t.map(e=>e.includes("\uD83D\uDCC8")||e.includes("\uD83D\uDD25")||e.includes("✨")?{text:e,icon:b.Z,color:"text-green-400",bgColor:"bg-green-500/10"}:e.includes("\uD83D\uDCC9")||e.includes("⚠️")||e.includes("⏸️")?{text:e,icon:G.Z,color:"text-yellow-400",bgColor:"bg-yellow-500/10"}:e.includes("\uD83C\uDFC6")||e.includes("\uD83C\uDFAF")?{text:e,icon:l.Z,color:"text-blue-400",bgColor:"bg-blue-500/10"}:e.includes("\uD83C\uDCCF")?{text:e,icon:m.Z,color:"text-purple-400",bgColor:"bg-purple-500/10"}:e.includes("\uD83D\uDC51")?{text:e,icon:i.Z,color:"text-yellow-400",bgColor:"bg-yellow-500/10"}:e.includes("\uD83D\uDEE1️")?{text:e,icon:P.Z,color:"text-gray-400",bgColor:"bg-gray-500/10"}:{text:e,icon:K.Z,color:"text-blue-400",bgColor:"bg-blue-500/10"});return(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 p-6 rounded-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-yellow-500/20 flex items-center justify-center",children:(0,a.jsx)(K.Z,{className:"w-5 h-5 text-yellow-400"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-white",children:"Insights do Treinador"}),t.length>0&&(0,a.jsxs)("span",{className:"ml-auto text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full",children:[t.length," ",1===t.length?"insight":"insights"]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[n&&(0,a.jsx)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-xl border ".concat("high"===n.severity?"bg-red-500/10 border-red-500/30":"bg-orange-500/10 border-orange-500/30"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(G.Z,{className:"w-5 h-5 mt-0.5 ".concat("high"===n.severity?"text-red-400":"text-orange-400")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-bold mb-1 ".concat("high"===n.severity?"text-red-400":"text-orange-400"),children:"high"===n.severity?"ALERTA CR\xcdTICO":"Aten\xe7\xe3o"}),(0,a.jsx)("p",{className:"text-sm text-gray-300",children:n.message})]})]})}),c.map((e,t)=>{let s=e.icon;return(0,a.jsxs)(r.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"flex items-start gap-3 p-4 ".concat(e.bgColor," rounded-xl border border-").concat(e.color.replace("text-",""),"/20"),children:[(0,a.jsx)(s,{className:"w-5 h-5 mt-0.5 ".concat(e.color," shrink-0")}),(0,a.jsx)("p",{className:"text-sm text-gray-200 leading-relaxed",children:e.text})]},t)}),0===t.length&&!n&&(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500 text-sm",children:[(0,a.jsx)(K.Z,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),(0,a.jsx)("p",{children:"Jogue mais partidas para receber insights personalizados."})]})]})]})}let Y=["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],$=["0h-4h","4h-8h","8h-12h","12h-16h","16h-20h","20h-24h"];function ee(e,t){return"".concat(Y[e]," ").concat($[t])}function et(e){let{battles:t}=e,[s,l]=(0,c.useState)(null),{heatmapData:i,bestTimes:n,worstTimes:o,recommendation:d}=(0,c.useMemo)(()=>(function(e){let t=Array(7).fill(0).map(()=>Array(6).fill(0).map(()=>({count:0,wins:0,losses:0,draws:0,winrate:0,trophyChange:0,battles:[]}))),s=e.filter(e=>e.team&&e.team[0]&&e.opponent&&e.opponent[0]&&e.battleTime);s.forEach(e=>{let s=new Date(e.battleTime);if(isNaN(s.getTime()))return;let a=s.getDay(),r=s.getHours();if(a<0||a>6||r<0||r>23)return;let l=t[a][Math.floor(r/4)];l.count++,l.battles.push(e),l.trophyChange+=e.team[0].trophyChange||0;let i=e.team[0].crowns,n=e.opponent[0].crowns;i>n?l.wins++:i<n?l.losses++:l.draws++}),t.forEach(e=>{e.forEach(e=>{e.count>0&&(e.winrate=e.wins/e.count*100)})});let a=[];t.forEach((e,t)=>{e.forEach((e,s)=>{e.count>=3&&a.push({day:t,slot:s,dayName:Y[t],timeRange:$[s],winrate:e.winrate,count:e.count,trophyChange:e.trophyChange})})});let r=[...a].sort((e,t)=>t.count-e.count).slice(0,3),l=[...a].filter(e=>e.count>=5).sort((e,t)=>t.winrate-e.winrate).slice(0,3),i=[...a].filter(e=>e.count>=5).sort((e,t)=>e.winrate-t.winrate).slice(0,3),n=s.filter(e=>{let t=new Date(e.battleTime).getDay();return t>=1&&t<=5}),c=s.filter(e=>{let t=new Date(e.battleTime).getDay();return 0===t||6===t}),o=n.filter(e=>e.team[0].crowns>e.opponent[0].crowns).length,d=c.filter(e=>e.team[0].crowns>e.opponent[0].crowns).length,x=n.length>0?o/n.length*100:0,m=c.length>0?d/c.length*100:0,h="";if(l.length>0){let e=l[0],t=e.winrate-(x+m)/2;if(t>10)h="Voc\xea \xe9 ".concat(t.toFixed(0),"% mais efetivo jogando ").concat(e.dayName," ").concat(e.timeRange,". Foque nesses hor\xe1rios para push!");else if(i.length>0){let t=i[0];h="Evite jogar ".concat(t.dayName," ").concat(t.timeRange," (").concat(t.winrate.toFixed(0),"% WR). Prefira ").concat(e.dayName," ").concat(e.timeRange,".")}}return!h&&x>m+10?h="Seu desempenho \xe9 ".concat((x-m).toFixed(0),"% melhor em dias de semana. Foque em jogar Segunda-Sexta."):!h&&m>x+10&&(h="Voc\xea performa melhor nos finais de semana (+".concat((m-x).toFixed(0),"%). Aproveite S\xe1bado e Domingo para push!")),{peakHours:r,bestTimes:l,worstTimes:i,weekdayWinrate:x,weekendWinrate:m,totalBattles:s.length,recommendation:h||"Continue jogando para coletar mais dados e receber recomenda\xe7\xf5es personalizadas.",heatmapData:t}})(t),[t]),m=["0h-4h","4h-8h","8h-12h","12h-16h","16h-20h","20h-24h"],h=Math.max(...i.flat().map(e=>e.count)),u=(e,t)=>n.some(s=>s.day===e&&s.slot===t),p=(e,t)=>o.some(s=>s.day===e&&s.slot===t);return(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,a.jsx)(g.Z,{className:"w-5 h-5 text-purple-400"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-white",children:"Mapa de Atividade"})]}),(n.length>0||o.length>0)&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[n.length>0&&(0,a.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(A.Z,{className:"w-4 h-4 text-green-400"}),(0,a.jsx)("span",{className:"text-xs font-bold text-green-400",children:"MELHOR HOR\xc1RIO"})]}),(0,a.jsxs)("p",{className:"text-sm text-white",children:[ee(n[0].day,n[0].slot)," • ",n[0].winrate.toFixed(0),"% WR"]})]}),o.length>0&&(0,a.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(G.Z,{className:"w-4 h-4 text-red-400"}),(0,a.jsx)("span",{className:"text-xs font-bold text-red-400",children:"EVITAR"})]}),(0,a.jsxs)("p",{className:"text-sm text-white",children:[ee(o[0].day,o[0].slot)," • ",o[0].winrate.toFixed(0),"% WR"]})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("div",{className:"min-w-[600px]",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[60px_repeat(6,1fr)] gap-2 mb-2",children:[(0,a.jsx)("div",{}),m.map(e=>(0,a.jsx)("div",{className:"text-xs text-gray-500 text-center font-medium",children:e},e))]}),(0,a.jsx)("div",{className:"space-y-2",children:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"].map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-[60px_repeat(6,1fr)] gap-2 items-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 font-bold",children:e}),i[t].map((i,n)=>{let c=h>0?i.count/h:0,o=u(t,n),d=p(t,n),g=(null==s?void 0:s.day)===t&&(null==s?void 0:s.slot)===n;return(0,a.jsxs)("div",{className:"relative",onMouseEnter:()=>l({day:t,slot:n}),onMouseLeave:()=>l(null),children:[(0,a.jsxs)(r.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:(6*t+n)*.01},className:"\n                                                    h-10 rounded-lg transition-all duration-300 relative\n                                                    ".concat(0===i.count?"bg-gray-800/30":"bg-purple-500","\n                                                    ").concat(o?"ring-2 ring-green-400":"","\n                                                    ").concat(d?"ring-2 ring-red-400":"","\n                                                    ").concat(g?"scale-110 z-10":"","\n                                                    cursor-pointer\n                                                "),style:{opacity:0===i.count?1:.2+.8*c},children:[o&&(0,a.jsx)(A.Z,{className:"absolute -top-1 -right-1 w-3 h-3 text-green-400"}),d&&(0,a.jsx)(G.Z,{className:"absolute -top-1 -right-1 w-3 h-3 text-red-400"})]}),(0,a.jsx)(x.M,{children:g&&i.count>0&&(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 z-20 pointer-events-none",children:[(0,a.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-3 shadow-xl min-w-[200px]",children:[(0,a.jsxs)("div",{className:"text-xs font-bold text-white mb-2",children:[e," ",m[n]]}),(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Partidas:"}),(0,a.jsx)("span",{className:"text-white font-medium",children:i.count})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Winrate:"}),(0,a.jsxs)("span",{className:i.winrate>=50?"text-green-400":"text-red-400",children:[i.winrate.toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"V/D:"}),(0,a.jsxs)("span",{className:"text-white",children:[i.wins,"/",i.losses]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Trof\xe9us:"}),(0,a.jsxs)("span",{className:i.trophyChange>0?"text-green-400":i.trophyChange<0?"text-red-400":"text-gray-400",children:[i.trophyChange>0?"+":"",i.trophyChange]})]})]})]}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-900 border-r border-b border-gray-700 absolute top-full left-1/2 -translate-x-1/2 -translate-y-1/2 rotate-45"})]})})]},n)})]},e))})]})}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{children:"Menos"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-gray-800/30"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-purple-500/20"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-purple-500/60"}),(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-purple-500"})]}),(0,a.jsx)("span",{children:"Mais"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(A.Z,{className:"w-3 h-3 text-green-400"}),(0,a.jsx)("span",{className:"text-gray-500",children:"Melhor"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(G.Z,{className:"w-3 h-3 text-red-400"}),(0,a.jsx)("span",{className:"text-gray-500",children:"Evitar"})]})]})]}),d&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(b.Z,{className:"w-5 h-5 text-blue-400 mt-0.5"}),(0,a.jsx)("p",{className:"text-sm text-blue-100",children:d})]})})]})}var es=s(13231),ea=s(10883),er=s(74453),el=s(22062);let ei="cr_stats_goals_";function en(e,t){let s=ei+e.replace("#","");localStorage.setItem(s,JSON.stringify(t))}function ec(e){let t=ei+e.replace("#",""),s=localStorage.getItem(t);if(!s)return[];try{return JSON.parse(s)}catch(e){return[]}}function eo(e){let{battles:t,currentTrophies:s,playerTag:r}=e,[l,i]=(0,c.useState)([]),[n,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(!r)return;let e=ec(r);0===e.length?i([{type:"trophies",label:"Pr\xf3xima Liga",target:1e3*Math.ceil((s+1)/1e3),current:s},{type:"wins",label:"Vit\xf3rias Hoje",target:5,current:0,expiresAt:(function(){let e=new Date;return e.setHours(23,59,59,999),e})().toISOString()}].map(e=>(function(e,t){let s=ec(e),a={...t,id:"goal_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),createdAt:new Date().toISOString()};return s.push(a),en(e,s),a})(r,e))):i(e),o(!0)},[r,s]);let d=1e3*Math.ceil((s+1)/1e3),x=s%1e3/1e3*100,h=t.filter(e=>{if(!e.team||!e.team[0]||!e.opponent||!e.opponent[0])return!1;let t=e.team[0].crowns>e.opponent[0].crowns,s=new Date(e.battleTime).toDateString()===new Date().toDateString();return t&&s}).length,g=e=>{(function(e,t){let s=ec(e),a=s.filter(e=>e.id!==t);return a.length!==s.length&&(en(e,a),!0)})(r,e)&&(i(t=>t.filter(t=>t.id!==e)),(0,j.L9)("goal_delete",{goalId:e}))};return n?(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-2xl p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"w-5 h-5 text-green-400"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-white",children:"Metas e Objetivos"})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Pr\xf3xima Liga"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-white",children:[s," / ",d]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-green-500 rounded-full transition-all duration-500",style:{width:"".concat(x,"%")}})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded-xl border border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(es.Z,{className:"w-5 h-5 ".concat(h>=5?"text-green-500":"text-gray-600")}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"5 Vit\xf3rias Di\xe1rias"})]}),(0,a.jsxs)("span",{className:"text-sm font-medium text-white",children:[Math.min(h,5),"/5"]})]}),l.filter(e=>"custom"===e.type).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded-xl border border-gray-800 group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 text-blue-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:e.label})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-white",children:[e.current,"/",e.target]}),(0,a.jsx)("button",{onClick:()=>g(e.id),className:"opacity-0 group-hover:opacity-100 transition-opacity text-red-400 hover:text-red-300",children:(0,a.jsx)(ea.Z,{className:"w-4 h-4"})})]})]},e.id)),(0,a.jsx)(el.Z,{label:"Crie metas personalizadas ilimitadas com o plano PRO.",children:(0,a.jsx)("div",{className:"space-y-3 opacity-50 pointer-events-none",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded-xl border border-gray-700 border-dashed",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(er.Z,{className:"w-4 h-4 text-yellow-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-300",children:"Chegar a 7000 Trof\xe9us"})]}),(0,a.jsx)("span",{className:"text-xs text-yellow-500 font-medium",children:"PRO"})]})})})]})]}):null}var ed=s(97545);function ex(e){let{player:t,summary:s,battles:c,activeTab:o,setActiveTab:d}=e,x=function(e){let t=[];if(!e||0===e.length)return t;let s=e.filter(e=>e.team&&e.team[0]&&e.opponent&&e.opponent[0]);if(0===s.length)return t;let a=s.slice(0,Math.min(20,s.length)),r=s.slice(20,Math.min(40,s.length));if(a.length>=10&&r.length>=10){let e=a.filter(e=>e.team[0].crowns>e.opponent[0].crowns).length,s=r.filter(e=>e.team[0].crowns>e.opponent[0].crowns).length,l=e/a.length*100-s/r.length*100;l>15?t.push("\uD83D\uDCC8 Seu winrate subiu ".concat(l.toFixed(0),"% nos \xfaltimos ").concat(a.length," jogos! Continue assim!")):l<-15&&t.push("\uD83D\uDCC9 Cuidado: seu winrate caiu ".concat(Math.abs(l).toFixed(0),"% recentemente. Considere mudar de estrat\xe9gia."))}let l=0,i=null;for(let e of a){let t=e.team[0].crowns>e.opponent[0].crowns;if(null===i)i=t?"win":"loss",l=1;else if("win"===i&&t||"loss"===i&&!t)l++;else break}l>=5&&"win"===i?t.push("\uD83D\uDD25 Sequ\xeancia de ".concat(l," vit\xf3rias! Voc\xea est\xe1 em \xf3tima forma!")):l>=5&&"loss"===i&&t.push("⚠️ ".concat(l," derrotas seguidas. Fa\xe7a uma pausa de 15-30min para evitar tilt."));let n=a.reduce((e,t)=>e+(t.team[0].trophyChange||0),0);n>50?t.push("\uD83C\uDFC6 Excelente! Voc\xea ganhou ".concat(n," trof\xe9us recentemente. Continue o push!")):n<-50&&t.push("⚠️ Voc\xea perdeu ".concat(Math.abs(n)," trof\xe9us. Hora de parar ou trocar de deck."));let c=s.filter(e=>"PvP"===e.type||e.gameMode.name.toLowerCase().includes("ladder")),o=s.filter(e=>e.gameMode.name.toLowerCase().includes("challenge")||e.gameMode.name.toLowerCase().includes("tournament"));if(c.length>=10&&o.length>=10){let e=c.filter(e=>e.team[0].crowns>e.opponent[0].crowns).length,s=o.filter(e=>e.team[0].crowns>e.opponent[0].crowns).length,a=e/c.length*100,r=s/o.length*100;a>r+15?t.push("\uD83C\uDFAF Seu desempenho em Ladder \xe9 ".concat((a-r).toFixed(0),"% melhor. Foque em subir trof\xe9us!")):r>a+15&&t.push("\uD83C\uDFC5 Voc\xea domina Desafios (+".concat((r-a).toFixed(0),"% WR). Considere Grand Challenges!"))}let d=new Map;s.forEach(e=>{if(!e.team[0].cards)return;let t=e.team[0].cards.map(e=>e.id).sort().join(","),s=d.get(t)||{battles:[],wins:0};s.battles.push(e),e.team[0].crowns>e.opponent[0].crowns&&s.wins++,d.set(t,s)});let x=Array.from(d.entries()).map(e=>{let[t,s]=e;return{key:t,count:s.battles.length,wins:s.wins,winrate:s.wins/s.battles.length*100}}).filter(e=>e.count>=5).sort((e,t)=>t.winrate-e.winrate);if(x.length>=2){let e=x[0],s=x[x.length-1];e.winrate>60&&t.push("\uD83C\uDCCF Seu deck principal tem ".concat(e.winrate.toFixed(0),"% de winrate! Use-o para push.")),s.winrate<40&&s.count>=10&&t.push("❌ Um de seus decks tem apenas ".concat(s.winrate.toFixed(0),"% WR. Considere substitu\xed-lo."))}let m=s.filter(e=>3===e.team[0].crowns&&e.opponent[0].crowns<3).length,h=s.filter(e=>0===e.team[0].crowns).length;if(m>=.3*s.length&&t.push("\uD83D\uDC51 ".concat((m/s.length*100).toFixed(0),"% das suas vit\xf3rias s\xe3o 3 coroas! Deck agressivo forte.")),h>=.2*s.length&&t.push("\uD83D\uDEE1️ ".concat((h/s.length*100).toFixed(0),"% de Clean Sheets do oponente. Trabalhe na defesa.")),s.length>0){let e=new Date(s[0].battleTime);if((new Date().getTime()-e.getTime())/36e5<1&&a.length>=10){let e=a.filter(e=>e.team[0].crowns>e.opponent[0].crowns).length/a.length*100;e<40&&t.push("⏸️ Voc\xea jogou muito recentemente com ".concat(e.toFixed(0),"% WR. Fa\xe7a uma pausa!"))}}let g=s.filter(e=>e.team[0].crowns>e.opponent[0].crowns).length/s.length*100;return g>=55?t.push("✨ ".concat(g.toFixed(0),"% de winrate geral. Voc\xea est\xe1 pronto para climbar ladder!")):g<=45&&t.push("\uD83D\uDCAD Winrate de ".concat(g.toFixed(0),"%. Foque em melhorar matchups e timing.")),0===t.length&&t.push("Continue jogando para receber insights personalizados baseados no seu desempenho."),t.slice(0,8)}(c),m=function(e){let t=new Map;e.forEach(e=>{if(!e.team||!e.team[0]||!e.opponent||!e.opponent[0])return;let s=e.team[0],a=s.cards.map(e=>e.id).sort().join(",");if(!t.has(a)){let e=s.cards.reduce((e,t)=>e+(t.elixirCost||3.5),0)/s.cards.length;t.set(a,{id:a,cards:s.cards,matches:0,wins:0,losses:0,draws:0,winrate:0,avgElixir:parseFloat(e.toFixed(1))})}let r=t.get(a);r.matches++;let l=e.opponent[0];s.crowns>l.crowns?r.wins++:s.crowns<l.crowns?r.losses++:r.draws++});let s=Array.from(t.values()).map(e=>({...e,winrate:e.wins/e.matches*100})),a=s.sort((e,t)=>t.matches-e.matches)[0]||null,r=[...s].filter(e=>e.matches>=3).sort((e,t)=>t.winrate-e.winrate);return{decks:s,topDeck:a,topDecksByWinrate:r}}(c),{isEnabled:h}=(0,ed.W)();return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2",children:["Ol\xe1, ",(0,a.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 ".concat(h?"blur-sm select-none":""),children:h?"████████":t.name})]}),(0,a.jsx)("p",{className:"text-gray-400",children:"Aqui est\xe1 o resumo da sua performance hoje."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-gray-900/50 px-3 py-1.5 rounded-lg border border-gray-800",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"\xdaltima atualiza\xe7\xe3o: Agora mesmo"]})]}),(0,a.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(()=>{switch(o){case"overview":var e;return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 p-6 rounded-2xl flex flex-col items-center justify-center text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-yellow-500/10 rounded-full flex items-center justify-center mb-3",children:(0,a.jsx)(l.Z,{className:"w-6 h-6 text-yellow-500"})}),(0,a.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:t.trophies}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Trof\xe9us Atuais"})]}),(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 p-6 rounded-2xl flex flex-col items-center justify-center text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-500/10 rounded-full flex items-center justify-center mb-3",children:(0,a.jsx)(i.Z,{className:"w-6 h-6 text-purple-500"})}),(0,a.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:t.bestTrophies}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Recorde de Trof\xe9us"})]}),(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 p-6 rounded-2xl flex flex-col items-center justify-center text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-500/10 rounded-full flex items-center justify-center mb-3",children:(0,a.jsx)(n.Z,{className:"w-6 h-6 text-blue-500"})}),(0,a.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:t.battleCount}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Total de Batalhas"})]})]}),(0,a.jsx)(el.Z,{label:"Desbloqueie an\xe1lises avan\xe7adas de batalha e progress\xe3o.",children:(0,a.jsx)(J,{battles:c})}),(0,a.jsx)(el.Z,{label:"Veja seus hor\xe1rios de maior atividade e otimize seu tempo de jogo.",children:(0,a.jsx)(et,{battles:c})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(el.Z,{label:"Receba insights personalizados baseados em suas \xfaltimas partidas.",children:(0,a.jsx)(X,{insights:x,battles:c})}),(0,a.jsx)(eo,{battles:c,currentTrophies:t.trophies,playerTag:t.tag}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-900/20 to-purple-900/20 border border-blue-500/20 p-6 rounded-2xl",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Arena Atual"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"w-16 h-16 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-blue-500/20 rounded-full animate-pulse"}),(0,a.jsx)(l.Z,{className:"w-8 h-8 text-blue-400 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:(null===(e=t.arena)||void 0===e?void 0:e.name)||"Arena Desconhecida"}),(0,a.jsxs)("div",{className:"text-sm text-blue-300",children:[t.trophies," Trof\xe9us"]})]})]})]})]})]});case"battles":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(el.Z,{label:"Analise o desempenho dos seus decks e encontre a melhor estrat\xe9gia.",children:(0,a.jsx)(Q,{decks:m})}),(0,a.jsx)(M,{battles:c})]});case"badges":return(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:(t.badges||[]).map((e,t)=>(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 p-4 rounded-xl flex flex-col items-center text-center hover:bg-gray-800/50 transition-colors group",children:[(0,a.jsx)("div",{className:"w-16 h-16 relative mb-3 group-hover:scale-110 transition-transform duration-300",children:(0,a.jsx)("img",{src:e.iconUrls.large,alt:e.name,className:"w-full h-full object-contain"})}),(0,a.jsx)("div",{className:"text-sm font-medium text-white truncate w-full",title:e.name,children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["N\xedvel ",e.level,"/",e.maxLevel||"?"]})]},t))});case"clan":return(0,a.jsx)(R,{player:t});case"decks":return(0,a.jsx)(O,{player:t});default:return null}})()},o)]})}},22062:function(e,t,s){s.d(t,{Z:function(){return c}});var a=s(57437),r=s(87138),l=s(74453),i=s(15361),n=s(20357);function c(e){let{children:t,label:s}=e,c="true"===localStorage.getItem("dev_pro_mode"),o=void 0!==n&&"true"===n.env.NEXT_PUBLIC_FORCE_PRO,d=window.location.search.includes("pro=1");return c||o||d?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"opacity-30 pointer-events-none blur-sm",children:t}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 bg-black/80 backdrop-blur-sm rounded-3xl",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsxs)("div",{className:"text-center px-6",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:s||"Recurso Exclusivo PRO"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 font-light max-w-md",children:"Desbloqueie recursos avan\xe7ados com o CR Status PRO"})]}),(0,a.jsx)(r.default,{href:"/pricing",onClick:()=>{(0,i.L9)("pro_feature_click",{label:s})},className:"px-6 py-3 text-sm font-medium rounded-2xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-white transition-all duration-300 shadow-lg hover:shadow-emerald-500/50",children:"Saiba mais sobre o CR Status PRO"})]})]})}},17973:function(e,t,s){s.d(t,{ToastProvider:function(){return h},p:function(){return m}});var a=s(57437),r=s(2265),l=s(34446),i=s(13763),n=s(92940),c=s(71935),o=s(36127),d=s(30690);let x=(0,r.createContext)(void 0);function m(){let e=(0,r.useContext)(x);if(!e)throw Error("useToast must be used within ToastProvider");return e}function h(e){let{children:t}=e,[s,m]=(0,r.useState)([]),h=e=>{switch(e){case"success":return(0,a.jsx)(n.Z,{className:"w-5 h-5"});case"error":return(0,a.jsx)(c.Z,{className:"w-5 h-5"});case"warning":return(0,a.jsx)(o.Z,{className:"w-5 h-5"});case"info":return(0,a.jsx)(d.Z,{className:"w-5 h-5"})}},g=e=>{switch(e){case"success":return"bg-green-500/10 border-green-500/20 text-green-400";case"error":return"bg-red-500/10 border-red-500/20 text-red-400";case"warning":return"bg-yellow-500/10 border-yellow-500/20 text-yellow-400";case"info":return"bg-blue-500/10 border-blue-500/20 text-blue-400"}};return(0,a.jsxs)(x.Provider,{value:{showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=Math.random().toString(36).substr(2,9),a={id:s,message:e,type:t};m(e=>[...e,a]),setTimeout(()=>{m(e=>e.filter(e=>e.id!==s))},3e3)}},children:[t,(0,a.jsx)("div",{className:"fixed bottom-4 right-4 z-50 space-y-2 pointer-events-none",children:(0,a.jsx)(l.M,{children:s.map(e=>(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:"".concat(g(e.type)," border px-4 py-3 rounded-xl flex items-center gap-3 min-w-[300px] pointer-events-auto shadow-lg backdrop-blur-sm"),children:[h(e.type),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.message})]},e.id))})})]})}},36735:function(e,t,s){s.d(t,{Z:function(){return c}});var a=s(57437),r=s(87138),l=s(957),i=s(52022),n=s(15361);function c(){return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(r.default,{href:"/pricing",onClick:()=>{(0,n.L9)("pricing_cta_click",{source:"header"})},className:"hidden sm:flex items-center gap-2 px-4 py-2 rounded-2xl bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-white text-sm font-medium transition-all duration-300 shadow-lg hover:shadow-emerald-500/50",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"CR Status PRO"})]}),(0,a.jsxs)("button",{disabled:!0,className:"flex items-center gap-2 px-4 py-2 rounded-2xl bg-gray-900 border border-gray-800 text-gray-400 text-sm font-medium cursor-not-allowed opacity-60",title:"Authentication coming soon",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Entrar"})]})]})}},15361:function(e,t,s){s.d(t,{L9:function(){return r},Z0:function(){return l}});var a=s(20357);function r(e,t){"true"===a.env.NEXT_PUBLIC_DEBUG_ANALYTICS&&console.log("[Analytics]",e,t||{})}function l(e){r("pricing_view",{path:e})}},27841:function(e,t,s){s.d(t,{p:function(){return i}});var a=s(2265),r=s(15361);let l="cr-stats-favorite-players";function i(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(l);if(e){let s=JSON.parse(e);t(Array.isArray(s)?s:[])}}catch(e){console.error("Failed to load favorite players:",e)}finally{i(!0)}},[]),(0,a.useEffect)(()=>{if(s)try{localStorage.setItem(l,JSON.stringify(e))}catch(e){console.error("Failed to save favorite players:",e)}},[e,s]);let n=(0,a.useCallback)((e,s,a)=>{t(t=>{if(t.some(t=>t.tag===e))return t;let l={tag:e,name:s,trophies:a,addedAt:Date.now()};return(0,r.L9)("player_save",{tag:e,name:s}),[...t,l]})},[]),c=(0,a.useCallback)(e=>{t(t=>{let s=t.filter(t=>t.tag!==e);return s.length!==t.length&&(0,r.L9)("player_remove",{tag:e}),s})},[]),o=(0,a.useCallback)(t=>e.some(e=>e.tag===t),[e]);return{favorites:e,addFavorite:n,removeFavorite:c,isFavorite:o,clearFavorites:(0,a.useCallback)(()=>{t([]),localStorage.removeItem(l)},[]),isLoaded:s}}},97545:function(e,t,s){s.d(t,{W:function(){return l}});var a=s(10903),r=s(89291);let l=(0,a.U)()((0,r.tJ)(e=>({isEnabled:!1,toggle:()=>e(e=>({isEnabled:!e.isEnabled})),setEnabled:t=>e({isEnabled:t})}),{name:"streamer-mode-storage"}))}}]);