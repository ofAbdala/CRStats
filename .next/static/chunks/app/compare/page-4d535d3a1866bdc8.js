(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{32092:function(e,t,a){Promise.resolve().then(a.bind(a,93429))},93429:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var r=a(57437),s=a(2265),l=a(13763),n=a(79488),i=a(85016),o=a(957),c=a(55430),d=a(20500),x=a(60090),u=a(61917),m=a(5951),g=a(15361);function p(){let[e,t]=(0,s.useState)(""),[a,p]=(0,s.useState)(""),[b,y]=(0,s.useState)(!1),f=(0,u.o)(""),j=(0,u.o)("");(0,s.useEffect)(()=>{(0,g.L9)("player_compare_view")},[]);let v=async t=>{t.preventDefault();let r=e.replace(/^#/,"").trim().toUpperCase(),s=a.replace(/^#/,"").trim().toUpperCase();if(!r||!s)return;let[l,n]=await Promise.all([f.load(r),j.load(s)]);l&&n&&(y(!0),(0,g.L9)("player_compare_run",{tag1:r,tag2:s}))},N=f.loading||j.loading,w=f.err||j.err,S=f.player,C=j.player;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{}),(0,r.jsx)("div",{className:"min-h-screen bg-black text-white p-6 lg:p-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Comparar Jogadores"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Compare estat\xedsticas de dois jogadores lado a lado."})]}),(0,r.jsxs)("form",{onSubmit:v,className:"bg-gray-900/50 border border-gray-800 rounded-2xl p-6",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Jogador 1"}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"#TAG do jogador 1",className:"w-full bg-gray-950 border border-gray-800 text-white px-4 py-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Jogador 2"}),(0,r.jsx)("input",{type:"text",value:a,onChange:e=>p(e.target.value),placeholder:"#TAG do jogador 2",className:"w-full bg-gray-950 border border-gray-800 text-white px-4 py-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,r.jsxs)("button",{type:"submit",disabled:!e||!a||N,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold py-3 px-6 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,r.jsx)(n.Z,{className:"w-5 h-5"}),N?"Carregando...":"Comparar Agora"]})]}),N&&(0,r.jsx)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-2xl p-8 text-center",children:(0,r.jsx)("div",{className:"animate-pulse text-gray-400",children:"Carregando jogadores..."})}),w&&(0,r.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-6 space-y-2",children:[f.err&&(0,r.jsxs)("div",{className:"text-red-400",children:[(0,r.jsx)("strong",{children:"Jogador 1:"})," ",f.err]}),j.err&&(0,r.jsxs)("div",{className:"text-red-400",children:[(0,r.jsx)("strong",{children:"Jogador 2:"})," ",j.err]})]}),!S&&!C&&!N&&!w&&(0,r.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-2xl p-12 text-center",children:[(0,r.jsx)(n.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Pronto para comparar?"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Digite as tags dos jogadores acima para come\xe7ar."})]}),S&&C&&!N&&(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-gray-900/50 border border-gray-800 rounded-2xl p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:S.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:["#",S.tag]}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:S.clan||"Sem Cl\xe3"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(h,{icon:i.Z,label:"Trof\xe9us",value:S.trophies.toLocaleString()}),(0,r.jsx)(h,{icon:o.Z,label:"Melhor",value:S.bestTrophies.toLocaleString()}),(0,r.jsx)(h,{icon:c.Z,label:"N\xedvel",value:S.expLevel}),(0,r.jsx)(h,{icon:d.Z,label:"Vit\xf3rias",value:S.wins.toLocaleString()}),(0,r.jsx)(h,{icon:x.Z,label:"3 Coroas",value:S.threeCrownWins.toLocaleString()})]})]}),(0,r.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-gray-900/50 border border-gray-800 rounded-2xl p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:C.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:["#",C.tag]}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:C.clan||"Sem Cl\xe3"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(h,{icon:i.Z,label:"Trof\xe9us",value:C.trophies.toLocaleString()}),(0,r.jsx)(h,{icon:o.Z,label:"Melhor",value:C.bestTrophies.toLocaleString()}),(0,r.jsx)(h,{icon:c.Z,label:"N\xedvel",value:C.expLevel}),(0,r.jsx)(h,{icon:d.Z,label:"Vit\xf3rias",value:C.wins.toLocaleString()}),(0,r.jsx)(h,{icon:x.Z,label:"3 Coroas",value:C.threeCrownWins.toLocaleString()})]})]})]}),S&&C&&!N&&(0,r.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600/10 to-purple-600/10 border border-blue-500/20 rounded-2xl p-6 text-center",children:S.trophies>C.trophies?(0,r.jsxs)("p",{className:"text-lg",children:["\uD83C\uDFC6 ",S.name," est\xe1 ",(S.trophies-C.trophies).toLocaleString()," trof\xe9us \xe0 frente!"]}):C.trophies>S.trophies?(0,r.jsxs)("p",{className:"text-lg",children:["\uD83C\uDFC6 ",C.name," est\xe1 ",(C.trophies-S.trophies).toLocaleString()," trof\xe9us \xe0 frente!"]}):(0,r.jsxs)("p",{className:"text-lg",children:["⚖️ Empate! Ambos t\xeam ",S.trophies.toLocaleString()," trof\xe9us"]})})]})})]})}function h(e){let{icon:t,label:a,value:s}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-800/30 rounded-lg p-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(t,{className:"w-4 h-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-sm text-gray-400",children:a})]}),(0,r.jsx)("span",{className:"text-white font-semibold",children:s})]})}},5951:function(e,t,a){"use strict";a.d(t,{Z:function(){return N}});var r=a(57437),s=a(2265),l=a(87138),n=a(34446),i=a(13763),o=a(85302),c=a(87140),d=a(79488),x=a(48281),u=a(11240),m=a(35931),g=a(4436),p=a(85016),h=a(10883),b=a(74697),y=a(42873),f=a(27841),j=a(97545),v=a(15361);function N(e){let{activeSection:t="overview",onSectionChange:a}=e,[N,w]=(0,s.useState)(!1),{favorites:S,removeFavorite:C}=(0,f.p)(),{isEnabled:k,toggle:Z}=(0,j.W)();if(k)return(0,r.jsx)("button",{onClick:Z,className:"fixed bottom-4 left-4 z-50 bg-gray-900/80 p-2 rounded-full text-gray-400 hover:text-white transition-colors",title:"Sair do Modo Streamer",children:(0,r.jsx)(o.Z,{className:"w-5 h-5"})});let E=[{id:"overview",label:"Vis\xe3o Geral",icon:c.Z,active:!0,comingSoon:!1},{id:"battles",label:"Batalhas",icon:d.Z,active:!0,comingSoon:!1},{id:"badges",label:"Badges",icon:x.Z,active:!0,comingSoon:!1},{id:"clan",label:"Cl\xe3",icon:u.Z,active:!0,comingSoon:!1},{id:"decks",label:"Decks",icon:m.Z,active:!0,comingSoon:!1}],L=[{id:"community",label:"Comunidade",icon:g.Z,href:"/community"},{id:"compare",label:"Comparar Jogadores",icon:d.Z,href:"/compare"}],_=(e,t)=>{t&&((0,v.L9)("tab_change",{section:e}),null==a||a(e),w(!1))},A=(0,r.jsxs)("div",{className:"flex flex-col h-full p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-10 px-2",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-blue-700 flex items-center justify-center shadow-lg shadow-blue-900/20",children:(0,r.jsx)(p.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("span",{className:"font-bold text-2xl tracking-tight text-white",children:["CR",(0,r.jsx)("span",{className:"text-blue-500",children:"Stats"})]})]}),(0,r.jsxs)("nav",{className:"space-y-1 flex-1",children:[(0,r.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4 px-2",children:"Menu Principal"}),E.map(e=>(0,r.jsxs)("button",{onClick:()=>_(e.id,e.active),disabled:!e.active,className:"\n                            w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 group\n                            ".concat(t===e.id?"bg-blue-600/10 text-blue-500":"text-gray-400 hover:bg-gray-900 hover:text-white","\n                            ").concat(!e.active&&"opacity-50 cursor-not-allowed","\n                        "),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(e.icon,{className:"w-5 h-5 transition-colors ".concat(t===e.id?"text-blue-500":"text-gray-500 group-hover:text-white")}),(0,r.jsx)("span",{className:"font-medium",children:e.label})]}),e.comingSoon&&(0,r.jsx)("span",{className:"text-[10px] font-bold bg-gray-800 text-gray-400 px-2 py-0.5 rounded-full border border-gray-700",children:"EM BREVE"})]},e.id)),(0,r.jsx)("div",{className:"mt-8 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4 px-2",children:"Comunidade"}),L.map(e=>(0,r.jsxs)(l.default,{href:e.href,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-400 hover:bg-gray-900 hover:text-white transition-all duration-200 group",children:[(0,r.jsx)(e.icon,{className:"w-5 h-5 text-gray-500 group-hover:text-white transition-colors"}),(0,r.jsx)("span",{className:"font-medium",children:e.label})]},e.id))]}),(0,r.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-800",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-2 mb-4",children:[(0,r.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Favoritos"}),(0,r.jsx)("span",{className:"text-xs text-gray-600 bg-gray-900 px-2 py-0.5 rounded-full",children:S.length})]}),(0,r.jsx)("div",{className:"space-y-1 max-h-48 overflow-y-auto custom-scrollbar",children:0===S.length?(0,r.jsx)("div",{className:"px-2 py-4 text-sm text-gray-600 text-center bg-gray-900/30 rounded-xl border border-gray-800/50 border-dashed",children:"Nenhum favorito"}):S.map(e=>(0,r.jsxs)(l.default,{href:"/".concat(e.tag),className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-400 hover:bg-gray-900 hover:text-white transition-all group",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gray-800 flex items-center justify-center text-xs font-bold text-gray-500 group-hover:text-white group-hover:bg-gray-700 transition-colors",children:e.expLevel||"?"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"text-sm font-medium truncate",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 truncate",children:["#",e.tag]})]}),(0,r.jsx)("button",{onClick:t=>{t.preventDefault(),C(e.tag)},className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-red-500/10 hover:text-red-400 rounded-md transition-all",children:(0,r.jsx)(h.Z,{className:"w-3.5 h-3.5"})})]},e.tag))})]}),(0,r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-800",children:(0,r.jsxs)("button",{onClick:Z,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-400 hover:bg-gray-900 hover:text-white transition-all duration-200 group",children:[(0,r.jsx)(o.Z,{className:"w-5 h-5 text-gray-500 group-hover:text-purple-400 transition-colors"}),(0,r.jsx)("span",{className:"font-medium",children:"Modo Streamer"})]})})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>w(!N),className:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-xl bg-gray-900 border border-gray-800 text-white",children:N?(0,r.jsx)(b.Z,{className:"w-6 h-6"}):(0,r.jsx)(y.Z,{className:"w-6 h-6"})}),(0,r.jsx)("aside",{className:"hidden lg:block w-72 h-screen sticky top-0 bg-black border-r border-gray-800",children:A}),(0,r.jsx)(n.M,{children:N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>w(!1),className:"lg:hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-40"}),(0,r.jsx)(i.E.aside,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25,stiffness:200},className:"lg:hidden fixed top-0 left-0 w-72 h-screen bg-black border-r border-gray-800 z-50",children:A})]})})]})}},15361:function(e,t,a){"use strict";a.d(t,{L9:function(){return s},Z0:function(){return l}});var r=a(20357);function s(e,t){"true"===r.env.NEXT_PUBLIC_DEBUG_ANALYTICS&&console.log("[Analytics]",e,t||{})}function l(e){s("pricing_view",{path:e})}},27841:function(e,t,a){"use strict";a.d(t,{p:function(){return n}});var r=a(2265),s=a(15361);let l="cr-stats-favorite-players";function n(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!1);(0,r.useEffect)(()=>{try{let e=localStorage.getItem(l);if(e){let a=JSON.parse(e);t(Array.isArray(a)?a:[])}}catch(e){console.error("Failed to load favorite players:",e)}finally{n(!0)}},[]),(0,r.useEffect)(()=>{if(a)try{localStorage.setItem(l,JSON.stringify(e))}catch(e){console.error("Failed to save favorite players:",e)}},[e,a]);let i=(0,r.useCallback)((e,a,r)=>{t(t=>{if(t.some(t=>t.tag===e))return t;let l={tag:e,name:a,trophies:r,addedAt:Date.now()};return(0,s.L9)("player_save",{tag:e,name:a}),[...t,l]})},[]),o=(0,r.useCallback)(e=>{t(t=>{let a=t.filter(t=>t.tag!==e);return a.length!==t.length&&(0,s.L9)("player_remove",{tag:e}),a})},[]),c=(0,r.useCallback)(t=>e.some(e=>e.tag===t),[e]);return{favorites:e,addFavorite:i,removeFavorite:o,isFavorite:c,clearFavorites:(0,r.useCallback)(()=>{t([]),localStorage.removeItem(l)},[]),isLoaded:a}}},61917:function(e,t,a){"use strict";a.d(t,{o:function(){return n}});var r=a(2265);async function s(e){try{let t=await fetch(e,{cache:"no-store"});if(!t.ok)throw Error(await t.text());return t.json()}catch(e){if((null==e?void 0:e.name)==="AbortError")return null;throw e}}function l(e){return e.replace(/^#/,"").toUpperCase()}function n(e){let[t,a]=(0,r.useState)(""),[n,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(null),[d,x]=(0,r.useState)([]),[u,m]=(0,r.useState)(!1),[g,p]=(0,r.useState)(null),[h,b]=(0,r.useState)(null),[y,f]=(0,r.useState)(!1),j=(0,r.useCallback)(async e=>{m(!0),p(null);try{let t=l(e),[r,n,o]=await Promise.all([s("/api/player/".concat(t)),s("/api/player/".concat(t,"/summary?last=20")),s("/api/player/".concat(t,"/battles?last=20"))]);return i(r),c(n),x(o),b(new Date),a(t),!0}catch(e){return p(e.message||"Falha na an\xe1lise"),!1}finally{m(!1)}},[]),v=(0,r.useCallback)(async()=>{if(t&&!u){f(!0);try{let e=l(t),[a,r,n]=await Promise.all([s("/api/player/".concat(e)),s("/api/player/".concat(e,"/summary?last=20")),s("/api/player/".concat(e,"/battles?last=20"))]);i(a),c(r),x(n),b(new Date)}finally{f(!1)}}},[t,u]);return{tag:t,setTag:a,player:n,summary:o,battles:d,loading:u,err:g,lastUpdated:h,isRefreshing:y,load:j,refreshData:v}}},97545:function(e,t,a){"use strict";a.d(t,{W:function(){return l}});var r=a(10903),s=a(89291);let l=(0,r.U)()((0,s.tJ)(e=>({isEnabled:!1,toggle:()=>e(e=>({isEnabled:!e.isEnabled})),setEnabled:t=>e({isEnabled:t})}),{name:"streamer-mode-storage"}))},60090:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]])},20500:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},55430:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])}},function(e){e.O(0,[73,61,306,971,23,744],function(){return e(e.s=32092)}),_N_E=e.O()}]);