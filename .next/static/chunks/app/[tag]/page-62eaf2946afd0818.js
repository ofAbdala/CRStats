(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[597],{22680:function(e,t,a){Promise.resolve().then(a.bind(a,74801))},74801:function(e,t,a){"use strict";a.d(t,{default:function(){return b}});var r=a(57437),s=a(2265),n=a(16463),l=a(13763),c=a(78030);let i=(0,c.Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),o=(0,c.Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var d=a(15361),x=a(27841),m=a(5951),u=a(36735),h=a(25033);let p=(0,c.Z)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var y=a(22468),f=a(6884);function g(e){let{tag:t,playerName:a}=e,[n,l]=(0,s.useState)(!1),c="".concat(window.location.origin,"/").concat(t),i=async()=>{try{await navigator.clipboard.writeText(c),l(!0),(0,d.L9)("share_profile_copy_link",{tag:t,playerName:a}),setTimeout(()=>l(!1),2e3)}catch(e){console.error("Failed to copy to clipboard:",e)}};return(0,r.jsxs)("div",{className:"premium-gradient border border-gray-800 p-6 rounded-2xl",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-600/20 flex items-center justify-center",children:(0,r.jsx)(p,{className:"w-5 h-5 text-blue-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-white",children:"Compartilhar Perfil"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 font-light",children:"Envie este link para seus amigos"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:c,readOnly:!0,className:"flex-1 px-4 py-3 rounded-xl bg-gray-900 border border-gray-800 text-gray-300 text-sm font-mono focus:outline-none focus:border-gray-700 cursor-text select-all",onClick:e=>e.currentTarget.select()}),(0,r.jsx)("button",{onClick:i,className:"\n            px-6 py-3 rounded-xl font-medium text-sm transition-all duration-300 flex items-center gap-2 whitespace-nowrap\n            ".concat(n?"bg-green-500 text-white":"bg-white text-black hover:bg-gray-100","\n          "),children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Copiado!"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Copiar"})]})})]}),n&&(0,r.jsxs)("p",{className:"text-xs text-green-400 mt-2 flex items-center gap-1",children:[(0,r.jsx)(y.Z,{className:"w-3 h-3"}),"Link copiado para a \xe1rea de transfer\xeancia"]})]})}function b(e){let{tag:t}=e,a=(0,n.useRouter)(),{addFavorite:c,isFavorite:p}=(0,x.p)(),[y,f]=(0,s.useState)(null),[b,j]=(0,s.useState)(null),[w,N]=(0,s.useState)([]),[v,k]=(0,s.useState)(!0),[_,C]=(0,s.useState)(null),[S,Z]=(0,s.useState)(null),[E,P]=(0,s.useState)(!1),[L,T]=(0,s.useState)("overview");function F(e){(0,d.L9)("tab_change",{tab:e,source:"public_profile"}),T(e)}return(0,s.useEffect)(()=>{!async function(){k(!0),C(null);try{let[e,a,r]=await Promise.all([fetch("/api/player/".concat(t),{cache:"no-store"}),fetch("/api/player/".concat(t,"/summary?last=100"),{cache:"no-store"}),fetch("/api/player/".concat(t,"/battles?last=100"),{cache:"no-store"})]);if(!e.ok)throw Error("Jogador n\xe3o encontrado");let[s,n,l]=await Promise.all([e.json(),a.json(),r.json()]);f(s),j(n),N(l),Z(new Date),(0,d.L9)("public_profile_view",{tag:t,playerName:s.name})}catch(e){C(e.message||"Erro ao carregar perfil"),(0,d.L9)("public_profile_error",{tag:t,error:e.message})}finally{k(!1)}}()},[t]),v?(0,r.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Carregando perfil..."})]})}):_||!y?(0,r.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-8",children:(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full premium-gradient border border-gray-800 p-8 rounded-3xl text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-500/10 border border-red-500/20 flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(i,{className:"w-8 h-8 text-red-400"})}),(0,r.jsx)("h1",{className:"text-2xl font-medium text-white mb-2",children:"Jogador n\xe3o encontrado"}),(0,r.jsxs)("p",{className:"text-gray-400 mb-6",children:["N\xe3o conseguimos encontrar um jogador com a tag ",(0,r.jsxs)("span",{className:"font-mono text-white",children:["#",t]})]}),(0,r.jsxs)("button",{onClick:()=>a.push("/"),className:"inline-flex items-center gap-2 px-6 py-3 rounded-2xl bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300",children:[(0,r.jsx)(o,{className:"w-5 h-5"}),"Voltar ao in\xedcio"]})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-black text-white flex",children:[(0,r.jsx)(m.Z,{activeSection:L,onSectionChange:F}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("header",{className:"sticky top-0 z-40 h-20 border-b border-gray-800",style:{backgroundColor:"rgba(0, 0, 0, 0.95)",backdropFilter:"blur(10px)"},children:(0,r.jsxs)("div",{className:"h-full px-8 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-white",children:"Perfil P\xfablico"}),(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:["#",t]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[!p(y.tag)&&(0,r.jsx)("button",{onClick:function(){y&&c(y.tag,y.name,y.trophies)},className:"px-4 py-2 rounded-2xl border border-gray-700 text-sm font-medium text-white hover:bg-gray-900 transition-all duration-300",children:"Salvar Jogador"}),(0,r.jsx)(u.Z,{})]})]})}),(0,r.jsxs)("div",{className:"p-8 space-y-8",children:[(0,r.jsx)(g,{tag:t,playerName:y.name}),(0,r.jsx)(h.Z,{player:y,summary:b,battles:w,activeTab:L,setActiveTab:F})]})]})]})}},22468:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(78030).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},16463:function(e,t,a){"use strict";var r=a(71169);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[73,61,306,579,49,850,971,23,744],function(){return e(e.s=22680)}),_N_E=e.O()}]);